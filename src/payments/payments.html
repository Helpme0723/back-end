<!doctype html>
<html lang="en">
  <head> </head>
  <body>
    <button onclick="requestPay()">결제하기</button>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <script>
      IMP.init('imp55558125');
      function requestPay() {
        IMP.request_pay(
          {
            pg: 'uplus.tlgdacomxpay',
            pay_method: 'card',
            merchant_uid: `payment-${crypto.randomUUID()}`, // 주문 고유 번호
            name: '포인트 충전',
            amount: 10000,
            buyer_postcode: '01181',
          },
          function (response) {
            if (response.success) {
              console.log(response);
            } else {
              console.log(response);
            }
            // 결제 종료 시 호출되는 콜백 함수
            // response.imp_uid 값으로 결제 단건조회 API를 호출하여 결제 결과를 확인하고,
            // 결제 결과를 처리하는 로직을 작성합니다.
          }
        );
      }
    </script>
  </body>
</html>
